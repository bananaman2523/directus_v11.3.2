"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t=e((async function({action:e},{services:t,getSchema:a}){const{ItemsService:n}=t;function r(e,t){if("string"!=typeof e)throw new Error("Invalid input, expected a string.");return e.replace(/R/g,t)}e("device_transfer_details.items.update",(async({payload:e,key:t,collection:c})=>{console.log(e);const o=new n("device_exchange_details",{schema:await a()}),s=new n("product_request_details",{schema:await a()}),i=e.document_number;if(i)try{const e=r(i,"C");await o.createOne({document_number:`${e}`,have_data:!1});const t=r(i,"S");await s.createOne({document_number:`${t}`,have_data:!1})}catch(e){console.error("Error creating record:",e)}else console.error("Payload does not contain 'document_number'.")}))}));module.exports=t;
