"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t=e((async function({action:e},{services:t,getSchema:r}){const{ItemsService:a}=t;e("device_transfer_details.items.create",(async({payload:e,key:t,collection:c})=>{const n=new Date,o=new a("device_transfer_details",{schema:await r()}),s=`${n.getFullYear()}${String(n.getMonth()+1).padStart(2,"0")}${String(n.getDate()).padStart(2,"0")}`;try{const e=await o.readByQuery({fields:["*"],filter:{document_number:{_contains:`R${s}`}}}),r=String(e.length+1).padStart(2,"0"),a=await o.updateOne(t,{document_number:`R${s}${r}`});console.log("Record created successfully:",a)}catch(e){console.error("Error creating record:",e)}}))}));module.exports=t;
